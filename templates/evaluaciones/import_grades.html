{% extends "base.html" %}
{% load static %}

{% block title %}Importar Calificaciones - BENUNE{% endblock %}

{% block content %}
<div class="container py-4">
    <div class="row mb-4">
        <div class="col-12">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Inicio</a></li>
                    <li class="breadcrumb-item"><a href="{% url 'grade_list' %}">Calificaciones</a></li>
                    <li class="breadcrumb-item active">Importar</li>
                </ol>
            </nav>
            
            <h1 class="h2 text-primary-custom">Importar Calificaciones</h1>
            <p class="lead">Carga calificaciones desde archivos Excel</p>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-primary-custom text-white">
                    <h5 class="card-title mb-0">Cargar Archivo Excel</h5>
                </div>
                <div class="card-body">
                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        
                        <div class="mb-3">
                            <label for="excel_file" class="form-label">Seleccionar archivo Excel *</label>
                            <input type="file" class="form-control" id="excel_file" name="excel_file" 
                                   accept=".xlsx,.xls" required>
                            <div class="form-text">
                                Formatos aceptados: .xlsx, .xls. El archivo debe seguir el formato oficial.
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="licenciatura" class="form-label">Licenciatura *</label>
                            <select class="form-select" id="licenciatura" name="licenciatura" required>
                                <option value="">-- Seleccione licenciatura --</option>
                                <option value="educacion_especial">Licenciatura en Educación Especial</option>
                                <option value="inclusion_educativa">Licenciatura en Inclusión Educativa</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <label for="semestre" class="form-label">Semestre *</label>
                            <select class="form-select" id="semestre" name="semestre" required>
                                <option value="">-- Seleccione semestre --</option>
                                <option value="1">Primero</option>
                                <option value="3">Tercero</option>
                                <option value="5">Quinto</option>
                                <option value="7">Séptimo</option>
                            </select>
                        </div>
                        
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary-custom">
                                <i class="fas fa-upload me-2"></i>Importar Calificaciones
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-info text-white">
                    <h5 class="card-title mb-0">Instrucciones</h5>
                </div>
                <div class="card-body">
                    <h6 class="text-info">Formato del archivo Excel:</h6>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-check-circle text-success me-2"></i>Debe contener las columnas: MATRICULA, NOMBRE, MATERIA, CALIFICACION</li>
                        <li><i class="fas fa-check-circle text-success me-2"></i>La primera fila debe ser los encabezados</li>
                        <li><i class="fas fa-check-circle text-success me-2"></i>Las calificaciones deben estar en escala 0-10</li>
                    </ul>
                    
                    <div class="alert alert-warning mt-3">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        <strong>Importante:</strong> Se recomienda descargar la plantilla oficial para asegurar el formato correcto.
                    </div>
                    
                    <a href="#" class="btn btn-outline-info w-100 mt-3">
                        <i class="fas fa-download me-2"></i>Descargar Plantilla
                    </a>
                </div>
            </div>
            
            <div class="card mt-4">
                <div class="card-header bg-secondary text-white">
                    <h5 class="card-title mb-0">Últimas Importaciones</h5>
                </div>
                <div class="card-body">
                    <div class="list-group list-group-flush">
                        <div class="list-group-item">
                            <div class="d-flex justify-content-between">
                                <span>15 Sep 2025 - Educación Especial 1°</span>
                                <span class="badge bg-success">125 registros</span>
                            </div>
                        </div>
                        <div class="list-group-item">
                            <div class="d-flex justify-content-between">
                                <span>10 Sep 2025 - Inclusión Educativa 7°</span>
                                <span class="badge bg-success">89 registros</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}